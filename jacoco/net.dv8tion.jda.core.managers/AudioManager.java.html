<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>AudioManager.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">ErisCasper.java</a> &gt; <a href="index.source.html" class="el_package">net.dv8tion.jda.core.managers</a> &gt; <span class="el_source">AudioManager.java</span></div><h1>AudioManager.java</h1><pre class="source lang-java linenums">/*
 *     Copyright 2015-2018 Austin Keener &amp; Michael Ritter &amp; Florian Spie√ü
 *     Copyright 2018-2018 &quot;Princess&quot; Lana Samson
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package net.dv8tion.jda.core.managers;

import net.dv8tion.jda.core.JDA;
import net.dv8tion.jda.core.audio.AudioReceiveHandler;
import net.dv8tion.jda.core.audio.AudioSendHandler;
import net.dv8tion.jda.core.audio.hooks.ConnectionListener;
import net.dv8tion.jda.core.audio.hooks.ConnectionStatus;
import net.dv8tion.jda.core.entities.Guild;
import net.dv8tion.jda.core.entities.VoiceChannel;
import net.dv8tion.jda.core.utils.JDALogger;
import org.slf4j.Logger;

/**
 * AudioManager deals with creating, managing and severing audio connections to {@link
 * net.dv8tion.jda.core.entities.VoiceChannel VoiceChannels}. Also controls audio handlers.
 */
public interface AudioManager {
  long DEFAULT_CONNECTION_TIMEOUT = 10000;
<span class="nc" id="L35">  Logger LOG = JDALogger.getLog(AudioManager.class);</span>

  /**
   * Starts the process to create an audio connection with a {@link
   * net.dv8tion.jda.core.entities.VoiceChannel VoiceChannel} or, if an audio connection is already
   * open, JDA will move the connection to the provided VoiceChannel. &lt;br&gt;
   * &lt;b&gt;Note&lt;/b&gt;: Currently you can only be connected to a single {@link
   * net.dv8tion.jda.core.entities.VoiceChannel VoiceChannel} per {@link
   * net.dv8tion.jda.core.entities.Guild Guild}.
   *
   * &lt;p&gt;This method will automatically move the current connection if one connection is already open
   * in this underlying {@link Guild}. &lt;br&gt;
   * Current connections can be closed with {@link #closeAudioConnection()}.
   *
   * &lt;p&gt;Client accounts can only connect to a single {@link
   * net.dv8tion.jda.core.entities.VoiceChannel VoiceChannel} at once. It is an Account-Wide
   * limitation!
   *
   * @param channel The {@link net.dv8tion.jda.core.entities.VoiceChannel VoiceChannel} to open an
   *     audio connection with.
   * @throws IllegalArgumentException
   *     &lt;ul&gt;
   *       &lt;li&gt;If the provided channel was {@code null}.
   *       &lt;li&gt;If the provided channel is not part of the Guild that the current audio connection is
   *           connected to.
   *     &lt;/ul&gt;
   *
   * @throws UnsupportedOperationException If audio is disabled due to an internal JDA error
   * @throws net.dv8tion.jda.core.exceptions.GuildUnavailableException If the Guild is temporarily
   *     unavailable
   * @throws net.dv8tion.jda.core.exceptions.InsufficientPermissionException
   *     &lt;ul&gt;
   *       &lt;li&gt;If the currently logged in account does not have the Permission {@link
   *           net.dv8tion.jda.core.Permission#VOICE_CONNECT VOICE_CONNECT}
   *       &lt;li&gt;If the currently logged in account does not have the Permission {@link
   *           net.dv8tion.jda.core.Permission#VOICE_MOVE_OTHERS VOICE_MOVE_OTHERS} and the {@link
   *           net.dv8tion.jda.core.entities.VoiceChannel#getUserLimit() user limit} has been
   *           exceeded!
   *     &lt;/ul&gt;
   */
  void openAudioConnection(VoiceChannel channel);

  /**
   * Close down the current audio connection of this {@link net.dv8tion.jda.core.entities.Guild
   * Guild} and disconnects from the {@link net.dv8tion.jda.core.entities.VoiceChannel
   * VoiceChannel}. &lt;br&gt;
   * If this is called when JDA doesn't have an audio connection, nothing happens.
   */
  void closeAudioConnection();

  /**
   * Gets the {@link net.dv8tion.jda.core.JDA JDA} instance that this AudioManager is a part of.
   *
   * @return The corresponding JDA instance
   */
  JDA getJDA();

  /**
   * Gets the {@link net.dv8tion.jda.core.entities.Guild Guild} instance that this AudioManager is
   * used for.
   *
   * @return The Guild that this AudioManager manages.
   */
  Guild getGuild();

  /**
   * This can be used to find out if JDA is currently attempting to setup an audio connection. &lt;br&gt;
   * If this returns true then {@link #getQueuedAudioConnection()} will return the {@link
   * net.dv8tion.jda.core.entities.VoiceChannel VoiceChannel} that JDA is attempting to setup an
   * audio connection to.
   *
   * @return True, if JDA is currently attempting to create an audio connection.
   */
  boolean isAttemptingToConnect();

  /**
   * This can be used to find out what {@link net.dv8tion.jda.core.entities.VoiceChannel
   * VoiceChannel} JDA is currently attempting to setup an audio connection for. If JDA isn't trying
   * to create an audio connection this will return null. &lt;br&gt;
   * In addition, if JDA is already connected, this will return null. To determine if JDA is already
   * has an audio connection with a {@link net.dv8tion.jda.core.entities.VoiceChannel VoiceChannel}
   * use {@link #isConnected()}
   *
   * @return The {@link net.dv8tion.jda.core.entities.VoiceChannel VoiceChannel} that JDA is
   *     attempting to create an audio connection with, or {@code null} if JDA isn't attempting to
   *     create a connection.
   */
  VoiceChannel getQueuedAudioConnection();

  /**
   * The {@link net.dv8tion.jda.core.entities.VoiceChannel VoiceChannel} that JDA currently has an
   * audio connection to. If JDA currently doesn't have an audio connection to a {@link
   * net.dv8tion.jda.core.entities.VoiceChannel VoiceChannel} this will return {@code null}.
   *
   * @return The {@link net.dv8tion.jda.core.entities.VoiceChannel VoiceChannel} the audio
   *     connection is connected to or {@code null} if not connected.
   */
  VoiceChannel getConnectedChannel();

  /**
   * This can be used to find out if JDA currently has an active audio connection with a {@link
   * net.dv8tion.jda.core.entities.VoiceChannel VoiceChannel}. If this returns true, then {@link
   * #getConnectedChannel()} will return the {@link net.dv8tion.jda.core.entities.VoiceChannel
   * VoiceChannel} which JDA is connected to.
   *
   * @return True, if JDA currently has an active audio connection.
   */
  boolean isConnected();

  /**
   * Sets the amount of time, in milliseconds, that will be used as the timeout when waiting for the
   * audio connection to successfully connect. The default value is 10 second (10,000 milliseconds).
   * &lt;br&gt;
   * &lt;b&gt;Note&lt;/b&gt;: If you set this value to 0, you can remove timeout functionality and JDA will wait
   * FOREVER for the connection to be established. This is no advised as it is possible that the
   * connection may never be established.
   *
   * @param timeout The amount of time, in milliseconds, that should be waited when waiting for the
   *     audio connection to be established.
   */
  void setConnectTimeout(long timeout);

  /**
   * The currently set timeout value, in &lt;b&gt;milliseconds&lt;/b&gt;, used when waiting for an audio
   * connection to be established.
   *
   * @return The currently set timeout.
   */
  long getConnectTimeout();

  /**
   * Sets the {@link net.dv8tion.jda.core.audio.AudioSendHandler} that the manager will use to
   * provide audio data to an audio connection. &lt;br&gt;
   * The handler provided here will persist between audio connection connect and disconnects.
   * Furthermore, you don't need to have an audio connection to set a handler. When JDA sets up a
   * new audio connection it will use the handler provided here. &lt;br&gt;
   * Setting this to null will remove the audio handler.
   *
   * &lt;p&gt;JDA recommends &lt;a href=&quot;https://github.com/sedmelluq/lavaplayer&quot;
   * target=&quot;_blank&quot;&gt;LavaPlayer&lt;/a&gt; as an {@link net.dv8tion.jda.core.audio.AudioSendHandler
   * AudioSendHandler}. It provides a &lt;a
   * href=&quot;https://github.com/sedmelluq/lavaplayer/tree/master/demo-jda&quot; target=&quot;_blank&quot;&gt;demo&lt;/a&gt;
   * targeted at JDA users.
   *
   * @param handler The {@link net.dv8tion.jda.core.audio.AudioSendHandler AudioSendHandler} used to
   *     provide audio data.
   */
  void setSendingHandler(AudioSendHandler handler);

  /**
   * The currently set {@link net.dv8tion.jda.core.audio.AudioSendHandler AudioSendHandler}. If
   * there is no sender currently set, this method will return {@code null}.
   *
   * @return The currently active {@link net.dv8tion.jda.core.audio.AudioSendHandler
   *     AudioSendHandler} or {@code null}.
   */
  AudioSendHandler getSendingHandler();

  /**
   * Sets the {@link net.dv8tion.jda.core.audio.AudioReceiveHandler AudioReceiveHandler} that the
   * manager will use to process audio data received from an audio connection.
   *
   * &lt;p&gt;The handler provided here will persist between audio connection connect and disconnects.
   * Furthermore, you don't need to have an audio connection to set a handler. When JDA sets up a
   * new audio connection it will use the handler provided here. &lt;br&gt;
   * Setting this to null will remove the audio handler.
   *
   * @param handler The {@link net.dv8tion.jda.core.audio.AudioReceiveHandler AudioReceiveHandler}
   *     used to process received audio data.
   */
  void setReceivingHandler(AudioReceiveHandler handler);

  /**
   * The currently set {@link net.dv8tion.jda.core.audio.AudioReceiveHandler AudioReceiveHandler}.
   * If there is no receiver currently set, this method will return {@code null}.
   *
   * @return The currently active {@link net.dv8tion.jda.core.audio.AudioReceiveHandler
   *     AudioReceiveHandler} or {@code null}.
   */
  AudioReceiveHandler getReceiveHandler();

  /**
   * Sets the {@link net.dv8tion.jda.core.audio.hooks.ConnectionListener ConnectionListener} for
   * this AudioManager. It will be informed about meta data of any audio connection established
   * through this AudioManager. Further information can be found in the {@link
   * net.dv8tion.jda.core.audio.hooks.ConnectionListener ConnectionListener} documentation!
   *
   * @param listener A {@link net.dv8tion.jda.core.audio.hooks.ConnectionListener
   *     ConnectionListener} instance
   */
  void setConnectionListener(ConnectionListener listener);

  /**
   * The currently set {@link net.dv8tion.jda.core.audio.hooks.ConnectionListener
   * ConnectionListener} or {@code null} if no {@link
   * net.dv8tion.jda.core.audio.hooks.ConnectionListener ConnectionListener} has been {@link
   * #setConnectionListener(ConnectionListener) set}.
   *
   * @return The current {@link net.dv8tion.jda.core.audio.hooks.ConnectionListener
   *     ConnectionListener} instance for this AudioManager.
   */
  ConnectionListener getConnectionListener();

  /**
   * The current {@link net.dv8tion.jda.core.audio.hooks.ConnectionStatus ConnectionStatus}. &lt;br&gt;
   * This status indicates represents the connection status of an audio connection.
   *
   * @return The current {@link net.dv8tion.jda.core.audio.hooks.ConnectionStatus ConnectionStatus}.
   */
  ConnectionStatus getConnectionStatus();

  /**
   * Sets whether audio connections from this AudioManager should automatically reconnect or not.
   * Default {@code true}
   *
   * @param shouldReconnect Whether audio connections from this AudioManager should automatically
   *     reconnect
   */
  void setAutoReconnect(boolean shouldReconnect);

  /**
   * Whether audio connections from this AudioManager automatically reconnect
   *
   * @return Whether audio connections from this AudioManager automatically reconnect
   */
  boolean isAutoReconnect();

  /**
   * Set this to {@code true} if the current connection should be displayed as muted, this will
   * cause the {@link net.dv8tion.jda.core.audio.AudioSendHandler AudioSendHandler} packages to not
   * be ignored by Discord!
   *
   * @param muted Whether the connection should stop sending audio and display as muted.
   */
  void setSelfMuted(boolean muted);

  /**
   * Whether connections from this AudioManager are muted, if this is {@code true} packages by the
   * registered {@link net.dv8tion.jda.core.audio.AudioSendHandler AudioSendHandler} will be ignored
   * by Discord.
   *
   * @return Whether connections from this AudioManager are muted
   */
  boolean isSelfMuted();

  /**
   * Sets whether connections from this AudioManager should be deafened. &lt;br&gt;
   * This does not include being muted, that value can be set individually from {@link
   * #setSelfMuted(boolean)} and checked via {@link #isSelfMuted()}
   *
   * @param deafened Whether connections from this AudioManager should be deafened.
   */
  void setSelfDeafened(boolean deafened);

  /**
   * Whether connections from this AudioManager are deafened. &lt;br&gt;
   * This does not include being muted, that value can be set individually from {@link
   * #setSelfMuted(boolean)} and checked via {@link #isSelfMuted()}
   *
   * @return True, if connections from this AudioManager are deafened
   */
  boolean isSelfDeafened();
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.0.201801022044</span></div></body></html>